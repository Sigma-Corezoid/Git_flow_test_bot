{"obj_type":1,"obj_id":1012036,"parent_id":424860,"title":"sendDocument","description":"","status":"active","params":[{"name":"file_url","type":"string","descr":"","flags":["required","input"],"regex":"","regex_error_text":""},{"name":"chat_id","type":"string","descr":"","flags":["required","input"],"regex":"","regex_error_text":""}],"ref_mask":true,"conv_type":"process","scheme":{"nodes":[{"id":"61adf4a8513aa03475f78714","obj_type":0,"condition":{"logics":[{"response":{"header":"{{header}}","body":"{{body}}"},"method":"POST","customize_response":false,"content_type":"application/json","max_threads":5,"response_type":{"header":"object","body":"object"},"url":"https://api.telegram.org/bot{{token}}/sendDocument","extra_headers":{},"err_node_id":"61adf4a8513aa03475f786d4","send_sys":true,"debug_info":false,"format":"","extra":{"chat_id":"{{chat_id}}","reply_markup":"{\"remove_keyboard\":true}","parse_mode":"HTML","document":"{{file_url}}"},"cert_pem":"","type":"api","extra_type":{"chat_id":"string","reply_markup":"object","parse_mode":"string","document":"string"},"is_migrate":true},{"type":"go","to_node_id":"61adf4a7513aa03475f78548","chTime":1524836073514}],"semaphors":[]},"title":"sendDocument","description":"","x":1100,"y":184,"uuid":"fb286b84-53b4-46d8-a9ec-ac9dbcac31fe","extra":"{\"modeForm\":\"expand\",\"icon\":\"\"}","options":null},{"id":"61adf4a882ba9651b2f903d6","obj_type":2,"condition":{"logics":[],"semaphors":[]},"title":"","description":"","x":1272,"y":64,"uuid":"bf57a4f4-26e8-4c81-9363-cfccbe73f109","extra":"{\"modeForm\":\"collapse\",\"icon\":\"error\"}","options":null},{"id":"61adf4a8513aa03475f786d4","obj_type":3,"condition":{"logics":[{"node_title":"null","conditions":[{"fun":"eq","const":"hardware","param":"__conveyor_api_return_type_error__","cast":"string"}],"to_node_id":"61adf4a782ba9651b2f901ef","index":1,"type":"go_if_const","data":[{"fun":"eq","const":"hardware","param":"__conveyor_api_return_type_error__","cast":"string"}]},{"node_title":"null","conditions":[{"fun":"eq","const":"software","param":"__conveyor_api_return_type_error__","cast":"string"},{"fun":"eq","const":"api_bad_answer","param":"__conveyor_api_return_type_tag__","cast":"string"}],"to_node_id":"61adf4a782ba9651b2f901ef","index":1,"format":"json","type":"go_if_const","data":[{"fun":"eq","const":"software","param":"__conveyor_api_return_type_error__","cast":"string"},{"fun":"eq","const":"api_bad_answer","param":"__conveyor_api_return_type_tag__","cast":"string"}]},{"type":"go","to_node_id":"61adf4a882ba9651b2f902f3","chTime":1514978625348}],"semaphors":[]},"title":"Send message: Escalation node","description":"null","x":1020,"y":252,"uuid":"8fba52b8-61ac-4c24-8749-b7d23b327ce0","extra":"{\"modeForm\":\"collapse\",\"icon\":\"\"}","options":null},{"id":"61adf4a882ba9651b2f902f4","obj_type":1,"condition":{"logics":[{"type":"go","to_node_id":"61adf4a7513aa03475f78549"}],"semaphors":[]},"title":"Start","description":"","x":1200,"y":-68,"uuid":"2c949208-ab5f-410a-96c8-5631cd737a4c","extra":"{\"modeForm\":\"collapse\",\"icon\":\"\"}","options":null},{"id":"61adf4a882ba9651b2f902f3","obj_type":0,"condition":{"logics":[{"type":"api_rpc_reply","res_data":{"status":"error","error_code":"{{error_code}}","error_message":"{{description}}"},"res_data_type":{"status":"string","error_code":"string","error_message":"string"},"mode":"key_value","throw_exception":true,"exception_reason":"Send text error"},{"type":"go","to_node_id":"61adf4a782ba9651b2f901f0","chTime":1513804944784}],"semaphors":[]},"title":"Error","description":"","x":916,"y":252,"uuid":"b5398d4b-7f59-4cdf-97f1-68c5414783ca","extra":"{\"modeForm\":\"collapse\",\"icon\":\"\"}","options":null},{"id":"61adf4a7513aa03475f78549","obj_type":0,"condition":{"logics":[{"type":"set_param","extra":{"token":"{{conv[1012000].ref[token].telegram}}"},"extra_type":{"token":"string"},"err_node_id":"61adf4a882ba9651b2f903d6"},{"type":"go","to_node_id":"61adf4a8513aa03475f78714","chTime":1524836098061}],"semaphors":[]},"title":"GET Token","description":"","x":1172,"y":36,"uuid":"031f7991-8141-4181-9fa6-8b666888a3e7","extra":"{\"modeForm\":\"collapse\",\"icon\":\"\"}","options":null},{"id":"61adf4a7513aa03475f78548","obj_type":0,"condition":{"logics":[{"type":"api_rpc_reply","res_data":{"status":"ok"},"res_data_type":{"status":"string"},"mode":"key_value","throw_exception":false},{"type":"go","to_node_id":"61adf4a7513aa03475f7854b","chTime":1524837581565}],"semaphors":[]},"title":"Success","description":"","x":1100,"y":372,"uuid":"4ab8f5a9-e4ea-4f9a-9409-d16760605781","extra":"{\"modeForm\":\"expand\",\"icon\":\"\"}","options":null},{"id":"61adf4a7513aa03475f7854b","obj_type":2,"condition":{"logics":[],"semaphors":[]},"title":"Final","description":"","x":1200,"y":540,"uuid":"9612fb14-0273-4a78-8c9a-a69129023f8b","extra":"{\"modeForm\":\"collapse\",\"icon\":\"success\"}","options":null},{"id":"61adf4a782ba9651b2f901f0","obj_type":2,"condition":{"logics":[],"semaphors":[]},"title":"Remove keyboard error","description":"null","x":944,"y":364,"uuid":"fb93aac1-b053-4ac2-b66f-42c3aaae290d","extra":"{\"modeForm\":\"collapse\",\"icon\":\"error\"}","options":null},{"id":"61adf4a782ba9651b2f901ef","obj_type":0,"condition":{"logics":[],"semaphors":[{"type":"time","value":"30","to_node_id":"61adf4a8513aa03475f78714"}]},"title":"Send message: Delay","description":"null","x":1020,"y":184,"uuid":"fbccbfd1-9190-4dfc-8e3c-a85680417d86","extra":"{\"modeForm\":\"collapse\",\"icon\":\"\"}","options":null}],"web_settings":[[],[]]},"conv_type":"process","uuid":"c348a2c2-aa22-446f-a00e-6f216f72f060"}